# Тестовое задание:

Форма регистрации с отправкой е-мейла после одобрения внешней системой.
Нужно реализовать форму регистрации в приложении, в которой необходимо заполнить:
     - логин,
     - пароль,
     - адрес электронной почты,
     - ФИО.
После отправки формы в наш бэкенд, мы регистрируем данные из нее в нашей БД, а также
отправляем
ее для одобрения во внешней системе.
Пусть обмен с этой внешней системой будет через некое messaging решение. После одобрения
или
отклонения заявки, наше приложение должно отправить сообщение на электронную почту
нашему
 пользователю с результатом проверки.
   
Стэк: Java 8+, Spring boot 2.0, dbms - h2. Для тестов предпочтение Junit/Mockito/Assertj, т.к. на
проекте будут именно они. Остальное по вкусу.
В качестве абстракции над шиной и почтовым сервисом предлагаю взять такой набросок:
https://pastebin.com/CaJVHykc
Возвращать из них можно заглушки, дабы сэкономить время на реализацию тестового задания.
При реализации следует помнить, что в реальной эксплуатации любая часть нашей системы
может отказать.
Будем очень рады обоснованиям принятых архитектурных решений. Комментарии в коде к ним
крайне приветствуются.


# Архитектурное решение приблизительно следующее:
Сценарий регистрации с отправкой е-мейла разделены на три основных шага:
1. Получение rest-запроса от пользователя. Отправка запроса верификации во внешнюю систему совместно с получением correlationId. Сохранение пользователя в БД. Отправка rest-ответа пользователю.
2. Запросить результат у внешней системы, Сохранить результат в БД.
3. Отправить результат проверки пользователю.
   Вызовы между шагами осуществляется асинхронно при помощи очередей. Такое решение поможет легко масштабировать систему на пример во много кластерной архитектуре (если вынести наружу брокер очередей), также обеспечит атомарность операций.

Для вызова RESTа с UI: http://localhost:8090/swagger-ui/

Для простомтра данных в БД: http://localhost:8090/h2-console (password:password)